<div class="container mt-5">
  <h1 class="text-center mb-4">Available Policies</h1>

  <!-- Alert for Error Message -->
  <div *ngIf="errorMessage" class="alert alert-danger text-center">
    {{ errorMessage }}
  </div>

  <div class="row">
    <div *ngFor="let policy of policies" class="col-md-6 col-lg-4 mb-4">
      <div class="card h-100 shadow-sm">
        <div class="card-body">
          <h5 class="card-title">{{ policy.name }}</h5>
          <p class="card-text text-truncate" title="{{ policy.description }}">
            {{ policy.description }}
          </p>
          <ul class="list-group list-group-flush">
            <li class="list-group-item">
              <strong>Age Criteria:</strong> {{ policy.minimumAgeCriteria }} - {{ policy.maximumAgeCriteria }}
            </li>
            <li class="list-group-item">
              <strong>Investment:</strong> 
              {{ policy.minimumInvestmentAmount | currency }} - 
              {{ policy.maximumInvestmentAmount | currency }}
            </li>
            <li class="list-group-item">
              <strong>Term:</strong> {{ policy.minimumPolicyTerm }} - {{ policy.maximumPolicyTerm }} years
            </li>
            <li class="list-group-item">
              <strong>Profit %:</strong> {{ policy.profitPercentage }}%
            </li>
            <li class="list-group-item">
              <strong>Commission %:</strong> {{ policy.commissionPercentage }}%
            </li>
          </ul>

          <div class="mt-3">
            <button class="btn btn-primary" (click)="buyPolicy(policy.id)">
              Buy Policy
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
